---
# Inventaire pour les tests DR (Disaster Recovery)
# Utilise les mêmes hosts mais avec des variables spécifiques aux tests

all:
  vars:
    ansible_python_interpreter: /usr/bin/python3
    environment: dr_test
    is_dr_test: true
    # Désactiver les notifications réelles pendant les tests
    notifications_enabled: false

  children:
    # Pour les tests DR, on inverse les rôles
    dc_paris:
      vars:
        datacenter: paris
        # En test DR, Paris devient le site de secours
        dc_role: standby
        test_mode: true

      hosts:
        vm-paris:
          ansible_host: 192.168.56.10
          ansible_user: vagrant

    dc_lyon:
      vars:
        datacenter: lyon
        # En test DR, Lyon devient le site principal
        dc_role: primary
        test_mode: true

      hosts:
        vm-lyon:
          ansible_host: 192.168.56.20
          ansible_user: vagrant

    # Groupes pour les tests
    test_primary:
      hosts:
        vm-lyon:

    test_standby:
      hosts:
        vm-paris:
